"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/uploadthing";
exports.ids = ["vendor-chunks/uploadthing"];
exports.modules = {

/***/ "(rsc)/./node_modules/uploadthing/dist/next.mjs":
/*!************************************************!*\
  !*** ./node_modules/uploadthing/dist/next.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNextRouteHandler: () => (/* binding */ createNextRouteHandler),\n/* harmony export */   createUploadthing: () => (/* binding */ createUploadthing)\n/* harmony export */ });\n/* harmony import */ var _uploadthing_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uploadthing/shared */ \"(rsc)/./node_modules/@uploadthing/shared/dist/index.mjs\");\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __commonJS = (cb, mod)=>function __require() {\n        return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = {\n            exports: {}\n        }).exports, mod), mod.exports;\n    };\n// package.json\nvar require_package = __commonJS({\n    \"package.json\" (exports, module) {\n        module.exports = {\n            name: \"uploadthing\",\n            version: \"4.1.3\",\n            license: \"MIT\",\n            exports: {\n                \"./package.json\": \"./package.json\",\n                \"./client\": {\n                    import: \"./dist/client.mjs\",\n                    types: \"./dist/client.d.ts\"\n                },\n                \"./server\": {\n                    import: \"./dist/server.mjs\",\n                    types: \"./dist/server.d.ts\",\n                    default: \"./dist/server.mjs\"\n                },\n                \"./next\": {\n                    import: \"./dist/next.mjs\",\n                    types: \"./dist/next.d.ts\"\n                },\n                \"./next-legacy\": {\n                    import: \"./dist/next-legacy.mjs\",\n                    types: \"./dist/next-legacy.d.ts\"\n                }\n            },\n            files: [\n                \"dist\"\n            ],\n            typesVersions: {\n                \"*\": {\n                    \"*\": [\n                        \"dist/*\"\n                    ]\n                }\n            },\n            scripts: {\n                lint: 'eslint \"**/*.{ts,tsx}\" --max-warnings 0',\n                build: \"tsup\",\n                clean: \"git clean -xdf dist node_modules\",\n                dev: \"tsup --watch\",\n                test: \"vitest run\",\n                \"test:watch\": \"vitest\",\n                typecheck: \"tsc --noEmit\"\n            },\n            dependencies: {\n                \"@uploadthing/mime-types\": \"^0.2.0\",\n                \"@uploadthing/shared\": \"^5.0.0\"\n            },\n            devDependencies: {\n                \"@uploadthing/eslint-config\": \"0.1.0\",\n                \"@uploadthing/tsconfig\": \"0.1.0\",\n                \"@uploadthing/tsup-config\": \"0.1.0\",\n                eslint: \"^8.42.0\",\n                next: \"13.4.4\",\n                tsup: \"6.7.0\",\n                \"type-fest\": \"^3.11.1\",\n                typescript: \"5.1.3\",\n                vitest: \"^0.30.1\"\n            },\n            publishConfig: {\n                access: \"public\"\n            }\n        };\n    }\n});\n// src/upload-builder.ts\nfunction internalCreateBuilder(initDef = {}) {\n    const _def = {\n        // Default router config\n        routerConfig: {\n            image: {\n                maxFileSize: \"4MB\"\n            }\n        },\n        middleware: ()=>({}),\n        // Overload with properties passed in\n        ...initDef\n    };\n    return {\n        middleware (userMiddleware) {\n            return internalCreateBuilder({\n                ..._def,\n                middleware: userMiddleware\n            });\n        },\n        onUploadComplete (userUploadComplete) {\n            return {\n                _def,\n                resolver: userUploadComplete\n            };\n        }\n    };\n}\nfunction createBuilder() {\n    return (input)=>{\n        return internalCreateBuilder({\n            routerConfig: input\n        });\n    };\n}\n// src/constants.ts\nvar packageJson = require_package();\nif (!packageJson.version) throw new Error(\"no version found in package.json\");\nvar UPLOADTHING_VERSION = packageJson.version;\n// src/internal/handler.ts\n\nvar fileCountLimitHit = (files, routeConfig)=>{\n    const counts = {};\n    files.forEach((file)=>{\n        const type = (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_0__.getTypeFromFileName)(file, Object.keys(routeConfig));\n        if (!counts[type]) {\n            counts[type] = 1;\n        } else {\n            counts[type] += 1;\n        }\n    });\n    return Object.keys(counts).some((key)=>{\n        var _a;\n        const count = counts[key];\n        if (count === 0) return false;\n        const limit = (_a = routeConfig[key]) == null ? void 0 : _a.maxFileCount;\n        if (!limit) {\n            console.error(routeConfig, key);\n            throw new Error(\"invalid config during file count\");\n        }\n        return count > limit;\n    });\n};\nif (true) {\n    console.log(\"[UT] UploadThing dev server is now running!\");\n}\nvar isValidResponse = (response)=>{\n    if (!response.ok) return false;\n    if (response.status >= 400) return false;\n    if (!response.headers.has(\"x-uploadthing-version\")) return false;\n    return true;\n};\nvar conditionalDevServer = async (fileKey)=>{\n    if (false) {}\n    const fileData = await (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_0__.pollForFileData)(fileKey, async (json)=>{\n        const file = json.fileData;\n        let callbackUrl = file.callbackUrl + `?slug=${file.callbackSlug}`;\n        if (!callbackUrl.startsWith(\"http\")) callbackUrl = \"http://\" + callbackUrl;\n        console.log(\"[UT] SIMULATING FILE UPLOAD WEBHOOK CALLBACK\", callbackUrl);\n        const response = await fetch(callbackUrl, {\n            method: \"POST\",\n            body: JSON.stringify({\n                status: \"uploaded\",\n                metadata: JSON.parse(file.metadata ?? \"{}\"),\n                file: {\n                    url: `https://uploadthing.com/f/${encodeURIComponent(fileKey ?? \"\")}`,\n                    key: fileKey ?? \"\",\n                    name: file.fileName\n                }\n            }),\n            headers: {\n                \"uploadthing-hook\": \"callback\"\n            }\n        });\n        if (isValidResponse(response)) {\n            console.log(\"[UT] Successfully simulated callback for file\", fileKey);\n        } else {\n            console.error(\"[UT] Failed to simulate callback for file. Is your webhook configured correctly?\", fileKey);\n        }\n        return file;\n    });\n    if (fileData !== null) return fileData;\n    console.error(`[UT] Failed to simulate callback for file ${fileKey}`);\n    throw new Error(\"File took too long to upload\");\n};\nvar buildRequestHandler = (opts)=>{\n    return async (input)=>{\n        const { router, config } = opts;\n        const preferredOrEnvSecret = (config == null ? void 0 : config.uploadthingSecret) ?? process.env.UPLOADTHING_SECRET;\n        const { uploadthingHook, slug, req, res, actionType } = input;\n        if (!slug) throw new Error(\"we need a slug\");\n        if (!preferredOrEnvSecret) {\n            throw new Error(`Please set your preferred secret in ${slug} router's config or set UPLOADTHING_SECRET in your env file`);\n        }\n        const uploadable = router[slug];\n        if (!uploadable) {\n            return {\n                status: 404\n            };\n        }\n        const reqBody = await req.json();\n        if (uploadthingHook && uploadthingHook === \"callback\") {\n            await uploadable.resolver({\n                file: reqBody.file,\n                metadata: reqBody.metadata\n            });\n            return {\n                status: 200\n            };\n        }\n        if (!actionType || actionType !== \"upload\") {\n            return {\n                status: 404\n            };\n        }\n        try {\n            const { files } = reqBody;\n            const metadata = await uploadable._def.middleware(req, res);\n            if (!Array.isArray(files) || !files.every((f)=>typeof f === \"string\")) throw new Error(\"Need file array\");\n            const parsedConfig = (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_0__.fillInputRouteConfig)(uploadable._def.routerConfig);\n            const limitHit = fileCountLimitHit(files, parsedConfig);\n            if (limitHit) throw new Error(\"Too many files\");\n            const uploadthingApiResponse = await fetch((0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_0__.generateUploadThingURL)(\"/api/prepareUpload\"), {\n                method: \"POST\",\n                body: JSON.stringify({\n                    files,\n                    routeConfig: parsedConfig,\n                    metadata,\n                    callbackUrl: (config == null ? void 0 : config.callbackUrl) ?? (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_0__.getUploadthingUrl)(),\n                    callbackSlug: slug\n                }),\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"x-uploadthing-api-key\": preferredOrEnvSecret,\n                    \"x-uploadthing-version\": UPLOADTHING_VERSION\n                }\n            });\n            if (!uploadthingApiResponse.ok) {\n                console.error(\"[UT] unable to get presigned urls\");\n                try {\n                    const error = await uploadthingApiResponse.json();\n                    console.error(error);\n                } catch (e) {\n                    console.error(\"[UT] unable to parse response\");\n                }\n                throw new Error(\"ending upload\");\n            }\n            const parsedResponse = await uploadthingApiResponse.json();\n            if (true) {\n                for (const file of parsedResponse){\n                    void conditionalDevServer(file.key);\n                }\n            }\n            return {\n                body: parsedResponse,\n                status: 200\n            };\n        } catch (e) {\n            console.error(\"[UT] middleware failed to run\");\n            console.error(e);\n            return {\n                status: 400,\n                message: e.toString()\n            };\n        }\n    };\n};\nvar buildPermissionsInfoHandler = (opts)=>{\n    return ()=>{\n        const r = opts.router;\n        const permissions = Object.keys(r).map((k)=>{\n            const route = r[k];\n            const config = (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_0__.fillInputRouteConfig)(route._def.routerConfig);\n            return {\n                slug: k,\n                config\n            };\n        });\n        return permissions;\n    };\n};\n// src/next/core/approuter.ts\nvar createNextRouteHandler = (opts)=>{\n    const requestHandler = buildRequestHandler(opts);\n    const POST = async (req)=>{\n        const params = new URL(req.url).searchParams;\n        const uploadthingHook = req.headers.get(\"uploadthing-hook\") ?? void 0;\n        const slug = params.get(\"slug\") ?? void 0;\n        const actionType = params.get(\"actionType\") ?? void 0;\n        const response = await requestHandler({\n            uploadthingHook,\n            slug,\n            actionType,\n            req\n        });\n        if (response.status === 200) {\n            return new Response(JSON.stringify(response.body), {\n                status: response.status,\n                headers: {\n                    \"x-uploadthing-version\": UPLOADTHING_VERSION\n                }\n            });\n        }\n        return new Response(response.message ?? \"Unable to upload file.\", {\n            status: response.status,\n            headers: {\n                \"x-uploadthing-version\": UPLOADTHING_VERSION\n            }\n        });\n    };\n    const getBuildPerms = buildPermissionsInfoHandler(opts);\n    const GET = ()=>{\n        return new Response(JSON.stringify(getBuildPerms()), {\n            status: 200,\n            headers: {\n                \"x-uploadthing-version\": UPLOADTHING_VERSION\n            }\n        });\n    };\n    return {\n        GET,\n        POST\n    };\n};\n// next.ts\nvar createUploadthing = ()=>createBuilder();\n //# sourceMappingURL=next.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9uZXh0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJQSxvQkFBb0JDLE9BQU9DLG1CQUFtQjtBQUNsRCxJQUFJQyxhQUFhLENBQUNDLElBQUlDLE1BQVEsU0FBU0M7UUFDckMsT0FBT0QsT0FBTyxDQUFDLEdBQUdELEVBQUUsQ0FBQ0osa0JBQWtCSSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQ0MsTUFBTTtZQUFFRSxTQUFTLENBQUM7UUFBRSxHQUFHQSxPQUFPLEVBQUVGLE1BQU1BLElBQUlFLE9BQU87SUFDcEc7QUFFQSxlQUFlO0FBQ2YsSUFBSUMsa0JBQWtCTCxXQUFXO0lBQy9CLGdCQUFlSSxPQUFPLEVBQUVFLE1BQU07UUFDNUJBLE9BQU9GLE9BQU8sR0FBRztZQUNmRyxNQUFNO1lBQ05DLFNBQVM7WUFDVEMsU0FBUztZQUNUTCxTQUFTO2dCQUNQLGtCQUFrQjtnQkFDbEIsWUFBWTtvQkFDVk0sUUFBUTtvQkFDUkMsT0FBTztnQkFDVDtnQkFDQSxZQUFZO29CQUNWRCxRQUFRO29CQUNSQyxPQUFPO29CQUNQQyxTQUFTO2dCQUNYO2dCQUNBLFVBQVU7b0JBQ1JGLFFBQVE7b0JBQ1JDLE9BQU87Z0JBQ1Q7Z0JBQ0EsaUJBQWlCO29CQUNmRCxRQUFRO29CQUNSQyxPQUFPO2dCQUNUO1lBQ0Y7WUFDQUUsT0FBTztnQkFDTDthQUNEO1lBQ0RDLGVBQWU7Z0JBQ2IsS0FBSztvQkFDSCxLQUFLO3dCQUNIO3FCQUNEO2dCQUNIO1lBQ0Y7WUFDQUMsU0FBUztnQkFDUEMsTUFBTTtnQkFDTkMsT0FBTztnQkFDUEMsT0FBTztnQkFDUEMsS0FBSztnQkFDTEMsTUFBTTtnQkFDTixjQUFjO2dCQUNkQyxXQUFXO1lBQ2I7WUFDQUMsY0FBYztnQkFDWiwyQkFBMkI7Z0JBQzNCLHVCQUF1QjtZQUN6QjtZQUNBQyxpQkFBaUI7Z0JBQ2YsOEJBQThCO2dCQUM5Qix5QkFBeUI7Z0JBQ3pCLDRC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ZGlzdC9uZXh0Lm1qcz9jNTVmIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIF9fY29tbW9uSlMgPSAoY2IsIG1vZCkgPT4gZnVuY3Rpb24gX19yZXF1aXJlKCkge1xuICByZXR1cm4gbW9kIHx8ICgwLCBjYltfX2dldE93blByb3BOYW1lcyhjYilbMF1dKSgobW9kID0geyBleHBvcnRzOiB7fSB9KS5leHBvcnRzLCBtb2QpLCBtb2QuZXhwb3J0cztcbn07XG5cbi8vIHBhY2thZ2UuanNvblxudmFyIHJlcXVpcmVfcGFja2FnZSA9IF9fY29tbW9uSlMoe1xuICBcInBhY2thZ2UuanNvblwiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIG1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgbmFtZTogXCJ1cGxvYWR0aGluZ1wiLFxuICAgICAgdmVyc2lvbjogXCI0LjEuM1wiLFxuICAgICAgbGljZW5zZTogXCJNSVRcIixcbiAgICAgIGV4cG9ydHM6IHtcbiAgICAgICAgXCIuL3BhY2thZ2UuanNvblwiOiBcIi4vcGFja2FnZS5qc29uXCIsXG4gICAgICAgIFwiLi9jbGllbnRcIjoge1xuICAgICAgICAgIGltcG9ydDogXCIuL2Rpc3QvY2xpZW50Lm1qc1wiLFxuICAgICAgICAgIHR5cGVzOiBcIi4vZGlzdC9jbGllbnQuZC50c1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwiLi9zZXJ2ZXJcIjoge1xuICAgICAgICAgIGltcG9ydDogXCIuL2Rpc3Qvc2VydmVyLm1qc1wiLFxuICAgICAgICAgIHR5cGVzOiBcIi4vZGlzdC9zZXJ2ZXIuZC50c1wiLFxuICAgICAgICAgIGRlZmF1bHQ6IFwiLi9kaXN0L3NlcnZlci5tanNcIlxuICAgICAgICB9LFxuICAgICAgICBcIi4vbmV4dFwiOiB7XG4gICAgICAgICAgaW1wb3J0OiBcIi4vZGlzdC9uZXh0Lm1qc1wiLFxuICAgICAgICAgIHR5cGVzOiBcIi4vZGlzdC9uZXh0LmQudHNcIlxuICAgICAgICB9LFxuICAgICAgICBcIi4vbmV4dC1sZWdhY3lcIjoge1xuICAgICAgICAgIGltcG9ydDogXCIuL2Rpc3QvbmV4dC1sZWdhY3kubWpzXCIsXG4gICAgICAgICAgdHlwZXM6IFwiLi9kaXN0L25leHQtbGVnYWN5LmQudHNcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZmlsZXM6IFtcbiAgICAgICAgXCJkaXN0XCJcbiAgICAgIF0sXG4gICAgICB0eXBlc1ZlcnNpb25zOiB7XG4gICAgICAgIFwiKlwiOiB7XG4gICAgICAgICAgXCIqXCI6IFtcbiAgICAgICAgICAgIFwiZGlzdC8qXCJcbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzY3JpcHRzOiB7XG4gICAgICAgIGxpbnQ6ICdlc2xpbnQgXCIqKi8qLnt0cyx0c3h9XCIgLS1tYXgtd2FybmluZ3MgMCcsXG4gICAgICAgIGJ1aWxkOiBcInRzdXBcIixcbiAgICAgICAgY2xlYW46IFwiZ2l0IGNsZWFuIC14ZGYgZGlzdCBub2RlX21vZHVsZXNcIixcbiAgICAgICAgZGV2OiBcInRzdXAgLS13YXRjaFwiLFxuICAgICAgICB0ZXN0OiBcInZpdGVzdCBydW5cIixcbiAgICAgICAgXCJ0ZXN0OndhdGNoXCI6IFwidml0ZXN0XCIsXG4gICAgICAgIHR5cGVjaGVjazogXCJ0c2MgLS1ub0VtaXRcIlxuICAgICAgfSxcbiAgICAgIGRlcGVuZGVuY2llczoge1xuICAgICAgICBcIkB1cGxvYWR0aGluZy9taW1lLXR5cGVzXCI6IFwiXjAuMi4wXCIsXG4gICAgICAgIFwiQHVwbG9hZHRoaW5nL3NoYXJlZFwiOiBcIl41LjAuMFwiXG4gICAgICB9LFxuICAgICAgZGV2RGVwZW5kZW5jaWVzOiB7XG4gICAgICAgIFwiQHVwbG9hZHRoaW5nL2VzbGludC1jb25maWdcIjogXCIwLjEuMFwiLFxuICAgICAgICBcIkB1cGxvYWR0aGluZy90c2NvbmZpZ1wiOiBcIjAuMS4wXCIsXG4gICAgICAgIFwiQHVwbG9hZHRoaW5nL3RzdXAtY29uZmlnXCI6IFwiMC4xLjBcIixcbiAgICAgICAgZXNsaW50OiBcIl44LjQyLjBcIixcbiAgICAgICAgbmV4dDogXCIxMy40LjRcIixcbiAgICAgICAgdHN1cDogXCI2LjcuMFwiLFxuICAgICAgICBcInR5cGUtZmVzdFwiOiBcIl4zLjExLjFcIixcbiAgICAgICAgdHlwZXNjcmlwdDogXCI1LjEuM1wiLFxuICAgICAgICB2aXRlc3Q6IFwiXjAuMzAuMVwiXG4gICAgICB9LFxuICAgICAgcHVibGlzaENvbmZpZzoge1xuICAgICAgICBhY2Nlc3M6IFwicHVibGljXCJcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KTtcblxuLy8gc3JjL3VwbG9hZC1idWlsZGVyLnRzXG5mdW5jdGlvbiBpbnRlcm5hbENyZWF0ZUJ1aWxkZXIoaW5pdERlZiA9IHt9KSB7XG4gIGNvbnN0IF9kZWYgPSB7XG4gICAgLy8gRGVmYXVsdCByb3V0ZXIgY29uZmlnXG4gICAgcm91dGVyQ29uZmlnOiB7XG4gICAgICBpbWFnZToge1xuICAgICAgICBtYXhGaWxlU2l6ZTogXCI0TUJcIlxuICAgICAgfVxuICAgIH0sXG4gICAgbWlkZGxld2FyZTogKCkgPT4gKHt9KSxcbiAgICAvLyBPdmVybG9hZCB3aXRoIHByb3BlcnRpZXMgcGFzc2VkIGluXG4gICAgLi4uaW5pdERlZlxuICB9O1xuICByZXR1cm4ge1xuICAgIG1pZGRsZXdhcmUodXNlck1pZGRsZXdhcmUpIHtcbiAgICAgIHJldHVybiBpbnRlcm5hbENyZWF0ZUJ1aWxkZXIoe1xuICAgICAgICAuLi5fZGVmLFxuICAgICAgICBtaWRkbGV3YXJlOiB1c2VyTWlkZGxld2FyZVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvblVwbG9hZENvbXBsZXRlKHVzZXJVcGxvYWRDb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX2RlZixcbiAgICAgICAgcmVzb2x2ZXI6IHVzZXJVcGxvYWRDb21wbGV0ZVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVCdWlsZGVyKCkge1xuICByZXR1cm4gKGlucHV0KSA9PiB7XG4gICAgcmV0dXJuIGludGVybmFsQ3JlYXRlQnVpbGRlcih7IHJvdXRlckNvbmZpZzogaW5wdXQgfSk7XG4gIH07XG59XG5cbi8vIHNyYy9jb25zdGFudHMudHNcbnZhciBwYWNrYWdlSnNvbiA9IHJlcXVpcmVfcGFja2FnZSgpO1xuaWYgKCFwYWNrYWdlSnNvbi52ZXJzaW9uKVxuICB0aHJvdyBuZXcgRXJyb3IoXCJubyB2ZXJzaW9uIGZvdW5kIGluIHBhY2thZ2UuanNvblwiKTtcbnZhciBVUExPQURUSElOR19WRVJTSU9OID0gcGFja2FnZUpzb24udmVyc2lvbjtcblxuLy8gc3JjL2ludGVybmFsL2hhbmRsZXIudHNcbmltcG9ydCB7XG4gIGdlbmVyYXRlVXBsb2FkVGhpbmdVUkwsXG4gIGdldFR5cGVGcm9tRmlsZU5hbWUsXG4gIGdldFVwbG9hZHRoaW5nVXJsLFxuICBmaWxsSW5wdXRSb3V0ZUNvbmZpZyBhcyBwYXJzZUFuZEV4cGFuZElucHV0Q29uZmlnLFxuICBwb2xsRm9yRmlsZURhdGFcbn0gZnJvbSBcIkB1cGxvYWR0aGluZy9zaGFyZWRcIjtcbnZhciBmaWxlQ291bnRMaW1pdEhpdCA9IChmaWxlcywgcm91dGVDb25maWcpID0+IHtcbiAgY29uc3QgY291bnRzID0ge307XG4gIGZpbGVzLmZvckVhY2goKGZpbGUpID0+IHtcbiAgICBjb25zdCB0eXBlID0gZ2V0VHlwZUZyb21GaWxlTmFtZShcbiAgICAgIGZpbGUsXG4gICAgICBPYmplY3Qua2V5cyhyb3V0ZUNvbmZpZylcbiAgICApO1xuICAgIGlmICghY291bnRzW3R5cGVdKSB7XG4gICAgICBjb3VudHNbdHlwZV0gPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudHNbdHlwZV0gKz0gMTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gT2JqZWN0LmtleXMoY291bnRzKS5zb21lKChrZXkpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgY291bnQgPSBjb3VudHNba2V5XTtcbiAgICBpZiAoY291bnQgPT09IDApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgbGltaXQgPSAoX2EgPSByb3V0ZUNvbmZpZ1trZXldKSA9PSBudWxsID8gdm9pZCAwIDogX2EubWF4RmlsZUNvdW50O1xuICAgIGlmICghbGltaXQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3Iocm91dGVDb25maWcsIGtleSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGNvbmZpZyBkdXJpbmcgZmlsZSBjb3VudFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvdW50ID4gbGltaXQ7XG4gIH0pO1xufTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gIGNvbnNvbGUubG9nKFwiW1VUXSBVcGxvYWRUaGluZyBkZXYgc2VydmVyIGlzIG5vdyBydW5uaW5nIVwiKTtcbn1cbnZhciBpc1ZhbGlkUmVzcG9uc2UgPSAocmVzcG9uc2UpID0+IHtcbiAgaWYgKCFyZXNwb25zZS5vaylcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gNDAwKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKCFyZXNwb25zZS5oZWFkZXJzLmhhcyhcIngtdXBsb2FkdGhpbmctdmVyc2lvblwiKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufTtcbnZhciBjb25kaXRpb25hbERldlNlcnZlciA9IGFzeW5jIChmaWxlS2V5KSA9PiB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJkZXZlbG9wbWVudFwiKVxuICAgIHJldHVybjtcbiAgY29uc3QgZmlsZURhdGEgPSBhd2FpdCBwb2xsRm9yRmlsZURhdGEoXG4gICAgZmlsZUtleSxcbiAgICBhc3luYyAoanNvbikgPT4ge1xuICAgICAgY29uc3QgZmlsZSA9IGpzb24uZmlsZURhdGE7XG4gICAgICBsZXQgY2FsbGJhY2tVcmwgPSBmaWxlLmNhbGxiYWNrVXJsICsgYD9zbHVnPSR7ZmlsZS5jYWxsYmFja1NsdWd9YDtcbiAgICAgIGlmICghY2FsbGJhY2tVcmwuc3RhcnRzV2l0aChcImh0dHBcIikpXG4gICAgICAgIGNhbGxiYWNrVXJsID0gXCJodHRwOi8vXCIgKyBjYWxsYmFja1VybDtcbiAgICAgIGNvbnNvbGUubG9nKFwiW1VUXSBTSU1VTEFUSU5HIEZJTEUgVVBMT0FEIFdFQkhPT0sgQ0FMTEJBQ0tcIiwgY2FsbGJhY2tVcmwpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjYWxsYmFja1VybCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgc3RhdHVzOiBcInVwbG9hZGVkXCIsXG4gICAgICAgICAgbWV0YWRhdGE6IEpTT04ucGFyc2UoZmlsZS5tZXRhZGF0YSA/PyBcInt9XCIpLFxuICAgICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVybDogYGh0dHBzOi8vdXBsb2FkdGhpbmcuY29tL2YvJHtlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgICAgIGZpbGVLZXkgPz8gXCJcIlxuICAgICAgICAgICAgKX1gLFxuICAgICAgICAgICAga2V5OiBmaWxlS2V5ID8/IFwiXCIsXG4gICAgICAgICAgICBuYW1lOiBmaWxlLmZpbGVOYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwidXBsb2FkdGhpbmctaG9va1wiOiBcImNhbGxiYWNrXCJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoaXNWYWxpZFJlc3BvbnNlKHJlc3BvbnNlKSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltVVF0gU3VjY2Vzc2Z1bGx5IHNpbXVsYXRlZCBjYWxsYmFjayBmb3IgZmlsZVwiLCBmaWxlS2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJbVVRdIEZhaWxlZCB0byBzaW11bGF0ZSBjYWxsYmFjayBmb3IgZmlsZS4gSXMgeW91ciB3ZWJob29rIGNvbmZpZ3VyZWQgY29ycmVjdGx5P1wiLFxuICAgICAgICAgIGZpbGVLZXlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmaWxlO1xuICAgIH1cbiAgKTtcbiAgaWYgKGZpbGVEYXRhICE9PSBudWxsKVxuICAgIHJldHVybiBmaWxlRGF0YTtcbiAgY29uc29sZS5lcnJvcihgW1VUXSBGYWlsZWQgdG8gc2ltdWxhdGUgY2FsbGJhY2sgZm9yIGZpbGUgJHtmaWxlS2V5fWApO1xuICB0aHJvdyBuZXcgRXJyb3IoXCJGaWxlIHRvb2sgdG9vIGxvbmcgdG8gdXBsb2FkXCIpO1xufTtcbnZhciBidWlsZFJlcXVlc3RIYW5kbGVyID0gKG9wdHMpID0+IHtcbiAgcmV0dXJuIGFzeW5jIChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHsgcm91dGVyLCBjb25maWcgfSA9IG9wdHM7XG4gICAgY29uc3QgcHJlZmVycmVkT3JFbnZTZWNyZXQgPSAoY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcudXBsb2FkdGhpbmdTZWNyZXQpID8/IHByb2Nlc3MuZW52LlVQTE9BRFRISU5HX1NFQ1JFVDtcbiAgICBjb25zdCB7IHVwbG9hZHRoaW5nSG9vaywgc2x1ZywgcmVxLCByZXMsIGFjdGlvblR5cGUgfSA9IGlucHV0O1xuICAgIGlmICghc2x1ZylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIndlIG5lZWQgYSBzbHVnXCIpO1xuICAgIGlmICghcHJlZmVycmVkT3JFbnZTZWNyZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFBsZWFzZSBzZXQgeW91ciBwcmVmZXJyZWQgc2VjcmV0IGluICR7c2x1Z30gcm91dGVyJ3MgY29uZmlnIG9yIHNldCBVUExPQURUSElOR19TRUNSRVQgaW4geW91ciBlbnYgZmlsZWBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHVwbG9hZGFibGUgPSByb3V0ZXJbc2x1Z107XG4gICAgaWYgKCF1cGxvYWRhYmxlKSB7XG4gICAgICByZXR1cm4geyBzdGF0dXM6IDQwNCB9O1xuICAgIH1cbiAgICBjb25zdCByZXFCb2R5ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgICBpZiAodXBsb2FkdGhpbmdIb29rICYmIHVwbG9hZHRoaW5nSG9vayA9PT0gXCJjYWxsYmFja1wiKSB7XG4gICAgICBhd2FpdCB1cGxvYWRhYmxlLnJlc29sdmVyKHtcbiAgICAgICAgZmlsZTogcmVxQm9keS5maWxlLFxuICAgICAgICBtZXRhZGF0YTogcmVxQm9keS5tZXRhZGF0YVxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBzdGF0dXM6IDIwMCB9O1xuICAgIH1cbiAgICBpZiAoIWFjdGlvblR5cGUgfHwgYWN0aW9uVHlwZSAhPT0gXCJ1cGxvYWRcIikge1xuICAgICAgcmV0dXJuIHsgc3RhdHVzOiA0MDQgfTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZmlsZXMgfSA9IHJlcUJvZHk7XG4gICAgICBjb25zdCBtZXRhZGF0YSA9IGF3YWl0IHVwbG9hZGFibGUuX2RlZi5taWRkbGV3YXJlKHJlcSwgcmVzKTtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShmaWxlcykgfHwgIWZpbGVzLmV2ZXJ5KChmKSA9PiB0eXBlb2YgZiA9PT0gXCJzdHJpbmdcIikpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5lZWQgZmlsZSBhcnJheVwiKTtcbiAgICAgIGNvbnN0IHBhcnNlZENvbmZpZyA9IHBhcnNlQW5kRXhwYW5kSW5wdXRDb25maWcoXG4gICAgICAgIHVwbG9hZGFibGUuX2RlZi5yb3V0ZXJDb25maWdcbiAgICAgICk7XG4gICAgICBjb25zdCBsaW1pdEhpdCA9IGZpbGVDb3VudExpbWl0SGl0KGZpbGVzLCBwYXJzZWRDb25maWcpO1xuICAgICAgaWYgKGxpbWl0SGl0KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbWFueSBmaWxlc1wiKTtcbiAgICAgIGNvbnN0IHVwbG9hZHRoaW5nQXBpUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgZ2VuZXJhdGVVcGxvYWRUaGluZ1VSTChcIi9hcGkvcHJlcGFyZVVwbG9hZFwiKSxcbiAgICAgICAge1xuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgZmlsZXMsXG4gICAgICAgICAgICByb3V0ZUNvbmZpZzogcGFyc2VkQ29uZmlnLFxuICAgICAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgICAgICBjYWxsYmFja1VybDogKGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLmNhbGxiYWNrVXJsKSA/PyBnZXRVcGxvYWR0aGluZ1VybCgpLFxuICAgICAgICAgICAgY2FsbGJhY2tTbHVnOiBzbHVnXG4gICAgICAgICAgfSksXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICBcIngtdXBsb2FkdGhpbmctYXBpLWtleVwiOiBwcmVmZXJyZWRPckVudlNlY3JldCxcbiAgICAgICAgICAgIFwieC11cGxvYWR0aGluZy12ZXJzaW9uXCI6IFVQTE9BRFRISU5HX1ZFUlNJT05cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBpZiAoIXVwbG9hZHRoaW5nQXBpUmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIltVVF0gdW5hYmxlIHRvIGdldCBwcmVzaWduZWQgdXJsc1wiKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHVwbG9hZHRoaW5nQXBpUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIltVVF0gdW5hYmxlIHRvIHBhcnNlIHJlc3BvbnNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImVuZGluZyB1cGxvYWRcIik7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXJzZWRSZXNwb25zZSA9IGF3YWl0IHVwbG9hZHRoaW5nQXBpUmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIHBhcnNlZFJlc3BvbnNlKSB7XG4gICAgICAgICAgdm9pZCBjb25kaXRpb25hbERldlNlcnZlcihmaWxlLmtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGJvZHk6IHBhcnNlZFJlc3BvbnNlLCBzdGF0dXM6IDIwMCB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbVVRdIG1pZGRsZXdhcmUgZmFpbGVkIHRvIHJ1blwiKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICByZXR1cm4geyBzdGF0dXM6IDQwMCwgbWVzc2FnZTogZS50b1N0cmluZygpIH07XG4gICAgfVxuICB9O1xufTtcbnZhciBidWlsZFBlcm1pc3Npb25zSW5mb0hhbmRsZXIgPSAob3B0cykgPT4ge1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGNvbnN0IHIgPSBvcHRzLnJvdXRlcjtcbiAgICBjb25zdCBwZXJtaXNzaW9ucyA9IE9iamVjdC5rZXlzKHIpLm1hcCgoaykgPT4ge1xuICAgICAgY29uc3Qgcm91dGUgPSByW2tdO1xuICAgICAgY29uc3QgY29uZmlnID0gcGFyc2VBbmRFeHBhbmRJbnB1dENvbmZpZyhyb3V0ZS5fZGVmLnJvdXRlckNvbmZpZyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzbHVnOiBrLFxuICAgICAgICBjb25maWdcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIHBlcm1pc3Npb25zO1xuICB9O1xufTtcblxuLy8gc3JjL25leHQvY29yZS9hcHByb3V0ZXIudHNcbnZhciBjcmVhdGVOZXh0Um91dGVIYW5kbGVyID0gKG9wdHMpID0+IHtcbiAgY29uc3QgcmVxdWVzdEhhbmRsZXIgPSBidWlsZFJlcXVlc3RIYW5kbGVyKG9wdHMpO1xuICBjb25zdCBQT1NUID0gYXN5bmMgKHJlcSkgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkwocmVxLnVybCkuc2VhcmNoUGFyYW1zO1xuICAgIGNvbnN0IHVwbG9hZHRoaW5nSG9vayA9IHJlcS5oZWFkZXJzLmdldChcInVwbG9hZHRoaW5nLWhvb2tcIikgPz8gdm9pZCAwO1xuICAgIGNvbnN0IHNsdWcgPSBwYXJhbXMuZ2V0KFwic2x1Z1wiKSA/PyB2b2lkIDA7XG4gICAgY29uc3QgYWN0aW9uVHlwZSA9IHBhcmFtcy5nZXQoXCJhY3Rpb25UeXBlXCIpID8/IHZvaWQgMDtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RIYW5kbGVyKHtcbiAgICAgIHVwbG9hZHRoaW5nSG9vayxcbiAgICAgIHNsdWcsXG4gICAgICBhY3Rpb25UeXBlLFxuICAgICAgcmVxXG4gICAgfSk7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmJvZHkpLCB7XG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJ4LXVwbG9hZHRoaW5nLXZlcnNpb25cIjogVVBMT0FEVEhJTkdfVkVSU0lPTlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZS5tZXNzYWdlID8/IFwiVW5hYmxlIHRvIHVwbG9hZCBmaWxlLlwiLCB7XG4gICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJ4LXVwbG9hZHRoaW5nLXZlcnNpb25cIjogVVBMT0FEVEhJTkdfVkVSU0lPTlxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBjb25zdCBnZXRCdWlsZFBlcm1zID0gYnVpbGRQZXJtaXNzaW9uc0luZm9IYW5kbGVyKG9wdHMpO1xuICBjb25zdCBHRVQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShnZXRCdWlsZFBlcm1zKCkpLCB7XG4gICAgICBzdGF0dXM6IDIwMCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJ4LXVwbG9hZHRoaW5nLXZlcnNpb25cIjogVVBMT0FEVEhJTkdfVkVSU0lPTlxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICByZXR1cm4geyBHRVQsIFBPU1QgfTtcbn07XG5cbi8vIG5leHQudHNcbnZhciBjcmVhdGVVcGxvYWR0aGluZyA9ICgpID0+IGNyZWF0ZUJ1aWxkZXIoKTtcbmV4cG9ydCB7XG4gIGNyZWF0ZU5leHRSb3V0ZUhhbmRsZXIsXG4gIGNyZWF0ZVVwbG9hZHRoaW5nXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmV4dC5tanMubWFwIl0sIm5hbWVzIjpbIl9fZ2V0T3duUHJvcE5hbWVzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIl9fY29tbW9uSlMiLCJjYiIsIm1vZCIsIl9fcmVxdWlyZSIsImV4cG9ydHMiLCJyZXF1aXJlX3BhY2thZ2UiLCJtb2R1bGUiLCJuYW1lIiwidmVyc2lvbiIsImxpY2Vuc2UiLCJpbXBvcnQiLCJ0eXBlcyIsImRlZmF1bHQiLCJmaWxlcyIsInR5cGVzVmVyc2lvbnMiLCJzY3JpcHRzIiwibGludCIsImJ1aWxkIiwiY2xlYW4iLCJkZXYiLCJ0ZXN0IiwidHlwZWNoZWNrIiwiZGVwZW5kZW5jaWVzIiwiZGV2RGVwZW5kZW5jaWVzIiwiZXNsaW50IiwibmV4dCIsInRzdXAiLCJ0eXBlc2NyaXB0Iiwidml0ZXN0IiwicHVibGlzaENvbmZpZyIsImFjY2VzcyIsImludGVybmFsQ3JlYXRlQnVpbGRlciIsImluaXREZWYiLCJfZGVmIiwicm91dGVyQ29uZmlnIiwiaW1hZ2UiLCJtYXhGaWxlU2l6ZSIsIm1pZGRsZXdhcmUiLCJ1c2VyTWlkZGxld2FyZSIsIm9uVXBsb2FkQ29tcGxldGUiLCJ1c2VyVXBsb2FkQ29tcGxldGUiLCJyZXNvbHZlciIsImNyZWF0ZUJ1aWxkZXIiLCJpbnB1dCIsInBhY2thZ2VKc29uIiwiRXJyb3IiLCJVUExPQURUSElOR19WRVJTSU9OIiwiZ2VuZXJhdGVVcGxvYWRUaGluZ1VSTCIsImdldFR5cGVGcm9tRmlsZU5hbWUiLCJnZXRVcGxvYWR0aGluZ1VybCIsImZpbGxJbnB1dFJvdXRlQ29uZmlnIiwicGFyc2VBbmRFeHBhbmRJbnB1dENvbmZpZyIsInBvbGxGb3JGaWxlRGF0YSIsImZpbGVDb3VudExpbWl0SGl0Iiwicm91dGVDb25maWciLCJjb3VudHMiLCJmb3JFYWNoIiwiZmlsZSIsInR5cGUiLCJrZXlzIiwic29tZSIsImtleSIsIl9hIiwiY291bnQiLCJsaW1pdCIsIm1heEZpbGVDb3VudCIsImNvbnNvbGUiLCJlcnJvciIsInByb2Nlc3MiLCJsb2ciLCJpc1ZhbGlkUmVzcG9uc2UiLCJyZXNwb25zZSIsIm9rIiwic3RhdHVzIiwiaGVhZGVycyIsImhhcyIsImNvbmRpdGlvbmFsRGV2U2VydmVyIiwiZmlsZUtleSIsImZpbGVEYXRhIiwianNvbiIsImNhbGxiYWNrVXJsIiwiY2FsbGJhY2tTbHVnIiwic3RhcnRzV2l0aCIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtZXRhZGF0YSIsInBhcnNlIiwidXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZmlsZU5hbWUiLCJidWlsZFJlcXVlc3RIYW5kbGVyIiwib3B0cyIsInJvdXRlciIsImNvbmZpZyIsInByZWZlcnJlZE9yRW52U2VjcmV0IiwidXBsb2FkdGhpbmdTZWNyZXQiLCJlbnYiLCJVUExPQURUSElOR19TRUNSRVQiLCJ1cGxvYWR0aGluZ0hvb2siLCJzbHVnIiwicmVxIiwicmVzIiwiYWN0aW9uVHlwZSIsInVwbG9hZGFibGUiLCJyZXFCb2R5IiwiQXJyYXkiLCJpc0FycmF5IiwiZXZlcnkiLCJmIiwicGFyc2VkQ29uZmlnIiwibGltaXRIaXQiLCJ1cGxvYWR0aGluZ0FwaVJlc3BvbnNlIiwiZSIsInBhcnNlZFJlc3BvbnNlIiwibWVzc2FnZSIsInRvU3RyaW5nIiwiYnVpbGRQZXJtaXNzaW9uc0luZm9IYW5kbGVyIiwiciIsInBlcm1pc3Npb25zIiwibWFwIiwiayIsInJvdXRlIiwiY3JlYXRlTmV4dFJvdXRlSGFuZGxlciIsInJlcXVlc3RIYW5kbGVyIiwiUE9TVCIsInBhcmFtcyIsIlVSTCIsInNlYXJjaFBhcmFtcyIsImdldCIsIlJlc3BvbnNlIiwiZ2V0QnVpbGRQZXJtcyIsIkdFVCIsImNyZWF0ZVVwbG9hZHRoaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/uploadthing/dist/next.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/uploadthing/dist/client.mjs":
/*!**************************************************!*\
  !*** ./node_modules/uploadthing/dist/client.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DANGEROUS__uploadFiles: () => (/* binding */ DANGEROUS__uploadFiles),\n/* harmony export */   classNames: () => (/* binding */ classNames),\n/* harmony export */   genUploader: () => (/* binding */ genUploader),\n/* harmony export */   generateClientDropzoneAccept: () => (/* binding */ generateClientDropzoneAccept),\n/* harmony export */   generateMimeTypes: () => (/* binding */ generateMimeTypes)\n/* harmony export */ });\n/* harmony import */ var _uploadthing_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uploadthing/shared */ \"(ssr)/./node_modules/@uploadthing/shared/dist/index.mjs\");\n// client.ts\n\nvar createRequestPermsUrl = (config) => {\n  const queryParams = `?actionType=upload&slug=${config.slug}`;\n  return `${(config == null ? void 0 : config.url) ?? \"/api/uploadthing\"}${queryParams}`;\n};\nvar DANGEROUS__uploadFiles = async (files, endpoint, config) => {\n  const s3ConnectionRes = await fetch(\n    createRequestPermsUrl({ url: config == null ? void 0 : config.url, slug: endpoint }),\n    {\n      method: \"POST\",\n      body: JSON.stringify({\n        files: files.map((f) => f.name)\n      })\n    }\n  ).then((res) => {\n    if (!res.ok)\n      throw new Error(\"Failed to get presigned URLs\");\n    try {\n      return res.json();\n    } catch (e) {\n      console.error(e);\n      throw new Error(`Failed to parse response as JSON. Got: ${res.body}`);\n    }\n  });\n  if (!s3ConnectionRes || !Array.isArray(s3ConnectionRes))\n    throw \"No url received. How did you get here?\";\n  const fileUploadPromises = s3ConnectionRes.map(async (presigned) => {\n    const file = files.find((f) => f.name === presigned.name);\n    if (!file) {\n      console.error(\"No file found for presigned URL\", presigned);\n      throw new Error(\"No file found for presigned URL\");\n    }\n    const { url, fields } = presigned.presignedUrl;\n    const formData = new FormData();\n    if (presigned.fileType === file.type.split(\"/\")[0] || presigned.fileType === file.type) {\n      formData.append(\"Content-Type\", file.type);\n    } else if (presigned.fileType === \"blob\") {\n      formData.append(\"Content-Type\", \"application/octet-stream\");\n    } else if (presigned.fileType === \"pdf\") {\n      formData.append(\"Content-Type\", \"application/pdf\");\n    }\n    Object.entries({ ...fields, file }).forEach(([key, value]) => {\n      formData.append(key, value);\n    });\n    const upload = await fetch(url, {\n      method: \"POST\",\n      body: formData,\n      headers: new Headers({\n        Accept: \"application/xml\"\n      })\n    });\n    if (!upload.ok)\n      throw new Error(\"Upload failed.\");\n    const genUrl = \"https://uploadthing.com/f/\" + encodeURIComponent(fields[\"key\"]);\n    await (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_0__.pollForFileData)(presigned.key);\n    return {\n      fileKey: presigned.key,\n      fileUrl: genUrl\n    };\n  });\n  return Promise.all(fileUploadPromises);\n};\nvar genUploader = () => {\n  return DANGEROUS__uploadFiles;\n};\nvar classNames = (...classes) => {\n  return classes.filter(Boolean).join(\" \");\n};\nvar generateMimeTypes = (fileTypes) => {\n  const accepted = fileTypes.map((type) => {\n    if (type === \"blob\")\n      return \"blob\";\n    if (type === \"pdf\")\n      return \"application/pdf\";\n    else\n      return `${type}/*`;\n  });\n  if (accepted.includes(\"blob\")) {\n    return void 0;\n  }\n  return accepted;\n};\nvar generateClientDropzoneAccept = (fileTypes) => {\n  const mimeTypes = generateMimeTypes(fileTypes);\n  if (!mimeTypes)\n    return void 0;\n  return Object.fromEntries(mimeTypes.map((type) => [type, []]));\n};\n\n//# sourceMappingURL=client.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9jbGllbnQubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ3NEO0FBQ3REO0FBQ0EsaURBQWlELFlBQVk7QUFDN0QsWUFBWSw2REFBNkQsRUFBRSxZQUFZO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwyREFBMkQ7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsZ0VBQWdFLFNBQVM7QUFDekU7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLHFCQUFxQixpQkFBaUI7QUFDdEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsVUFBVSxvRUFBZTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsS0FBSztBQUNyQixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9FO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWRkaXQtY2xvbmUvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9jbGllbnQubWpzP2E4MjMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY2xpZW50LnRzXG5pbXBvcnQgeyBwb2xsRm9yRmlsZURhdGEgfSBmcm9tIFwiQHVwbG9hZHRoaW5nL3NoYXJlZFwiO1xudmFyIGNyZWF0ZVJlcXVlc3RQZXJtc1VybCA9IChjb25maWcpID0+IHtcbiAgY29uc3QgcXVlcnlQYXJhbXMgPSBgP2FjdGlvblR5cGU9dXBsb2FkJnNsdWc9JHtjb25maWcuc2x1Z31gO1xuICByZXR1cm4gYCR7KGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLnVybCkgPz8gXCIvYXBpL3VwbG9hZHRoaW5nXCJ9JHtxdWVyeVBhcmFtc31gO1xufTtcbnZhciBEQU5HRVJPVVNfX3VwbG9hZEZpbGVzID0gYXN5bmMgKGZpbGVzLCBlbmRwb2ludCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IHMzQ29ubmVjdGlvblJlcyA9IGF3YWl0IGZldGNoKFxuICAgIGNyZWF0ZVJlcXVlc3RQZXJtc1VybCh7IHVybDogY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcudXJsLCBzbHVnOiBlbmRwb2ludCB9KSxcbiAgICB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBmaWxlczogZmlsZXMubWFwKChmKSA9PiBmLm5hbWUpXG4gICAgICB9KVxuICAgIH1cbiAgKS50aGVuKChyZXMpID0+IHtcbiAgICBpZiAoIXJlcy5vaylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZXQgcHJlc2lnbmVkIFVSTHNcIik7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSByZXNwb25zZSBhcyBKU09OLiBHb3Q6ICR7cmVzLmJvZHl9YCk7XG4gICAgfVxuICB9KTtcbiAgaWYgKCFzM0Nvbm5lY3Rpb25SZXMgfHwgIUFycmF5LmlzQXJyYXkoczNDb25uZWN0aW9uUmVzKSlcbiAgICB0aHJvdyBcIk5vIHVybCByZWNlaXZlZC4gSG93IGRpZCB5b3UgZ2V0IGhlcmU/XCI7XG4gIGNvbnN0IGZpbGVVcGxvYWRQcm9taXNlcyA9IHMzQ29ubmVjdGlvblJlcy5tYXAoYXN5bmMgKHByZXNpZ25lZCkgPT4ge1xuICAgIGNvbnN0IGZpbGUgPSBmaWxlcy5maW5kKChmKSA9PiBmLm5hbWUgPT09IHByZXNpZ25lZC5uYW1lKTtcbiAgICBpZiAoIWZpbGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBmaWxlIGZvdW5kIGZvciBwcmVzaWduZWQgVVJMXCIsIHByZXNpZ25lZCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBmaWxlIGZvdW5kIGZvciBwcmVzaWduZWQgVVJMXCIpO1xuICAgIH1cbiAgICBjb25zdCB7IHVybCwgZmllbGRzIH0gPSBwcmVzaWduZWQucHJlc2lnbmVkVXJsO1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgaWYgKHByZXNpZ25lZC5maWxlVHlwZSA9PT0gZmlsZS50eXBlLnNwbGl0KFwiL1wiKVswXSB8fCBwcmVzaWduZWQuZmlsZVR5cGUgPT09IGZpbGUudHlwZSkge1xuICAgICAgZm9ybURhdGEuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIGZpbGUudHlwZSk7XG4gICAgfSBlbHNlIGlmIChwcmVzaWduZWQuZmlsZVR5cGUgPT09IFwiYmxvYlwiKSB7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIik7XG4gICAgfSBlbHNlIGlmIChwcmVzaWduZWQuZmlsZVR5cGUgPT09IFwicGRmXCIpIHtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL3BkZlwiKTtcbiAgICB9XG4gICAgT2JqZWN0LmVudHJpZXMoeyAuLi5maWVsZHMsIGZpbGUgfSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgfSk7XG4gICAgY29uc3QgdXBsb2FkID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh7XG4gICAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi94bWxcIlxuICAgICAgfSlcbiAgICB9KTtcbiAgICBpZiAoIXVwbG9hZC5vaylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVwbG9hZCBmYWlsZWQuXCIpO1xuICAgIGNvbnN0IGdlblVybCA9IFwiaHR0cHM6Ly91cGxvYWR0aGluZy5jb20vZi9cIiArIGVuY29kZVVSSUNvbXBvbmVudChmaWVsZHNbXCJrZXlcIl0pO1xuICAgIGF3YWl0IHBvbGxGb3JGaWxlRGF0YShwcmVzaWduZWQua2V5KTtcbiAgICByZXR1cm4ge1xuICAgICAgZmlsZUtleTogcHJlc2lnbmVkLmtleSxcbiAgICAgIGZpbGVVcmw6IGdlblVybFxuICAgIH07XG4gIH0pO1xuICByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZVVwbG9hZFByb21pc2VzKTtcbn07XG52YXIgZ2VuVXBsb2FkZXIgPSAoKSA9PiB7XG4gIHJldHVybiBEQU5HRVJPVVNfX3VwbG9hZEZpbGVzO1xufTtcbnZhciBjbGFzc05hbWVzID0gKC4uLmNsYXNzZXMpID0+IHtcbiAgcmV0dXJuIGNsYXNzZXMuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xufTtcbnZhciBnZW5lcmF0ZU1pbWVUeXBlcyA9IChmaWxlVHlwZXMpID0+IHtcbiAgY29uc3QgYWNjZXB0ZWQgPSBmaWxlVHlwZXMubWFwKCh0eXBlKSA9PiB7XG4gICAgaWYgKHR5cGUgPT09IFwiYmxvYlwiKVxuICAgICAgcmV0dXJuIFwiYmxvYlwiO1xuICAgIGlmICh0eXBlID09PSBcInBkZlwiKVxuICAgICAgcmV0dXJuIFwiYXBwbGljYXRpb24vcGRmXCI7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIGAke3R5cGV9LypgO1xuICB9KTtcbiAgaWYgKGFjY2VwdGVkLmluY2x1ZGVzKFwiYmxvYlwiKSkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgcmV0dXJuIGFjY2VwdGVkO1xufTtcbnZhciBnZW5lcmF0ZUNsaWVudERyb3B6b25lQWNjZXB0ID0gKGZpbGVUeXBlcykgPT4ge1xuICBjb25zdCBtaW1lVHlwZXMgPSBnZW5lcmF0ZU1pbWVUeXBlcyhmaWxlVHlwZXMpO1xuICBpZiAoIW1pbWVUeXBlcylcbiAgICByZXR1cm4gdm9pZCAwO1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKG1pbWVUeXBlcy5tYXAoKHR5cGUpID0+IFt0eXBlLCBbXV0pKTtcbn07XG5leHBvcnQge1xuICBEQU5HRVJPVVNfX3VwbG9hZEZpbGVzLFxuICBjbGFzc05hbWVzLFxuICBnZW5VcGxvYWRlcixcbiAgZ2VuZXJhdGVDbGllbnREcm9wem9uZUFjY2VwdCxcbiAgZ2VuZXJhdGVNaW1lVHlwZXNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/uploadthing/dist/client.mjs\n");

/***/ })

};
;